################################################################
#
# a grids.csv file is also needed
# can we generate that automatically?
# USER OPTIONS
# Setting to manage cmorisation and set tables/variables to process
cmor:
    # If test true it will just run the setup but not launch the job automatically
    test: false
    appdir:  /g/data/ua8/Working/packages/ACCESS-MOPPeR 
    # output directory for all generated data (CMORISED files & logs)
    # if default it is set to /scratch/$project/$user/MOPPER_OUTPUT<exp>
    outpath: default
    # if true override files already exsiting in outpath 
    override: !!bool true
    # location of input data must point to dir above experiment;
    #  and experiment subdir must contain atmos/[,ocean/, ice/]
    datadir: /g/data/...
    # from exp_to_process: local name of experiment
    exp: flood22-barra 
    # Interval to cmorise inclusive of end_date
    # NB this will be used to select input files to include.
    # Use also hhmm if you want more control on subdaily data
    # start_date = "20220222T0000"
    # sometimes this can be defined at end of timestep so to get all data for your last day
    # you should use 0000 time of next day
    start_date: "20220222"                        
    end_date: "20220307"                        
    # select one of: [CM2, ESM1.5, OM2[-025], AUS2200]
    # if adding a new version other defaults might need to be set
    # see documentation
    access_version: AUS2200 
    # reference date for time units (set as 'default' to use start_date)
    reference_date: 1970-01-01             
    path_template: "{product_version}/{frequency}"
    # date_range is automatically added at the end of filename
    file_template: "{variable_id}_{source_id}_{experiment_id}_{frequency}"
    # maximum file size in MB: this is meant as uncompressed, compression might reduce it by 50%
    max_size: 8192 
    # deflate_level sets the internal compression level, 
    # level 4-6 good compromise between reducing size and write/read speed
    # shuffle 0: off 1:on Shuffle reduces size without impacting speed
    deflate_level: 4
    shuffle: 1
    # Variables to CMORise: 
    # CMOR table/variable to process; default is 'all'. 
    # Or create a yaml file listing variables to process (VAR_SUBSET[_LIST]).
    # each line: <table: [var1, var2, var3 ..]>
    tables: AUS2200_Aday
    variable_to_process: prw 
    var_subset: !!bool False
    var_subset_list: ''
    # if subhr data is included specify actual frequency as ##min
    subhr: 10min
    # model vertical levels number
    levnum: 70
    # Mappings, vocab and tables settings
    # default=data/dreq/cmvme_all_piControl_3_3.csv
    # Leave as set unless publishing for CMIP6
    dreq: default
    force_dreq: !!bool False
    dreq_years: !!bool False
    # mapping file created with cli_db.py based on the actual model output
    master_map: "data/map_flood22-barra.csv"
    # CMOR tables path, these define what variables can be extracted
    # see documentation to add new tables/variables
    tables_path: "data/custom-cmor-tables/"
    # ancillary files path
    # when running model with payu ancil files are copied to work/<realm>/INPUT
    # you can leave these empty if processing only atmos
    ancils_path: "data/ancils"
    grid_ocean: ""
    mask_ocean: ""
    ancil_ice: ""
    land_frac: ""
    # defines Controlled Vocabularies and required attributes
    # leave ACDD to follow NCI publishing requirements 
    _control_vocabulary_file: "ACDD_CV.json"
    # leave this empty unless is CMIP6
    _cmip6_option:  
    _AXIS_ENTRY_FILE: "ACDD_coordinate.json"
    _FORMULA_VAR_FILE: "ACDD_formula_terms.json"
    grids: "ACDD_grids.json"
  # Additional NCI information:
    # NCI project to charge compute; $PROJECT = your default project
    # NCI queue to use; hugemem is recommended
    project: v45 
    # additional NCI projects to be included in the storage flags
    addprojs: []
    # queue and memory (GB) per CPU (depends on queue) 
    queue: hugemem
    mem_per_cpu: 30 
    # walltime in "hh:mm:ss"
    walltime: '8:00:00'
    mode: custom
#
# Global attributes: these will be added to each files comment unwanted ones
# Using ACDD CV vocab to check validity of global attributes
# see data/custom-cmor-tables/ACDD_CV.json
# For CMIP6 global attributes explanation:
# https://docs.google.com/document/d/1h0r8RZr_f3-8egBMMh7aqLwy3snpD6_MrDz1q8n5XUk/edit
attrs:
    Conventions: "CF-1.7, ACDD-1.3"
    title: "AUS2200 UM amip simulation of 2022 Brisbane floods"
    experiment_id: flood22-barra
    # Use to provide a short description of the experiment. 
    # It will be written to file as "summary" 
    exp_description: "A limited area model study of the entire Australian continent at 2.2 km resolution, using the UM atmospheric model. BARRA reanalysis data was used to provide intial and boundary conditions. The study covers the time period of 2022-02-22 to 2022-03-7 including high rainfall events"
    product_version: v1.0
    date_created: "2023-05-12"
    # NB source and source_id need to be defined in ACDD_CV.json 
    # if using new different model configuration
    # currently available: AUS2200, ACCESS-ESM1-5, ACCESS-CM2,
    #                      ACCESS-OM2, ACCESS-OM2-025 
    source_id: 'AUS2200'
    # AUS2200 description
    source: "UM v12.2 ECMWF BARRA reanalysis fields used as forcings"
    # ACCESS-CM2 description
    #source: "ACCESS-CM2 (2019): aerosol: UKCA-GLOMAP-mode, atmos: MetUM-HadGEM3-GA7.1 (N96; 192 x 144 longitude/latitude; 85 levels; top level 85 km), atmosChem: none, land: CABLE2.5, landIce: none, ocean: ACCESS-OM2 (GFDL-MOM5, tripolar primarily 1deg; 360 x 300 longitude/latitude; 50 levels; top grid cell 0-10 m), ocnBgchem: none, seaIce: CICE5.1.2 (same grid as ocean)"
    # ACCESS-ESM1.5 description
    #source: "ACCESS-ESM1.5 (2019): aerosol: CLASSIC (v1.0), atmos: HadGAM2 (r1.1, N96; 192 x 145 longitude/latitude; 38 levels; top level 39255 m), atmosChem: none, land: CABLE2.4, landIce: none, ocean: ACCESS-OM2 (MOM5, tripolar primarily 1deg; 360 x 300 longitude/latitude; 50 levels; top grid cell 0-10 m), ocnBgchem: WOMBAT (same grid as ocean), seaIce: CICE4.1 (same grid as ocean)"
    license: "https://creativecommons.org/licenses/by/4.0/"
    institution: University of Melbourne 
    # not required
    organisation: Centre of Excellence for Climate Extremes
    # see here: https://acdguide.github.io/Governance/tech/keywords.html
    # use of FOR codes is reccomended
    keywords: "Climate change processes, Adverse weather events, Cloud physics"
    references: "" 
    # contact email of person running post-processing or author
    contact: paola.petrelli@utas.edu.au                
    creator_name: Dale Roberts
    creator_email: dsroberts@unimelb.edu.au
    creator_url: https://orcid.org/0000-0003-3952-6344
    # not required details of any contributor including who run post processing
    # if different from creator. If more than one spearate with commas
    # see here for datacite contributor role definitions:
    # https://datacite-metadata-schema.readthedocs.io/en/4.5_draft/properties/recommended_optional/property_contributor.html#a-contributortype
    contributor_name: Paola Petrelli, Samuel Green
    contributor_role: data_curator, data_curator 
    contributor_email: paola.petrelli@utas.edu.au, sam.green@unsw.edu.au
    contributor_url: https://orcid.org/0000-0002-0164-5105, https://orcid.org/0000-0003-1129-4676
    # Not required use if publishing, otherwise comment out
    #publisher_name:
    #publisher_email:
    # The following refer to the entire dataset rather than the specific file
    time_coverage_start: 2022-02-22 
    time_coverage_end: 2022-03-07
    geospatial_lat_min: -48.79 
    geospatial_lat_max: -6.83
    geospatial_lon_min: 107.52
    geospatial_lon_max: 158.98
    # The following attributes will be added automatically:
    # experiment, frequency, realm, variable
    # Add below whatever other global attributes you want to add
    forcing: "GHG, Oz, SA, Sl, Vl, BC, OC, (GHG = CO2, N2O, CH4, CFC11, CFC12, CFC113, HCFC22, HFC125, HFC134a)"
    calendar: "proleptic_gregorian"
    grid: "native atmosphere grid (2120x2600 latxlon)"
    # nearest value from cmip6 is 2.5 km
    nominal_resolution: "2.2 km"
    #
    # Parent experiment details if any
    # if parent=false, all parent fields are automatically set to "no parent".
    # If true, defined values are used.
    parent: !!bool false 
    # CMOR will add a tracking_id if you want to define a prefix add here
    tracking_id_prefix: 
